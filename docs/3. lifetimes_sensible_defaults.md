## Lifetimes & sensible defaults

### What “lifetime” actually means

Tokens carry an expiry (exp) timestamp.

- Access Token (AT) — short-lived “ticket” your Angular app shows to the Spring API.
- Refresh Token (RT) — rotating “voucher” your Angular app can exchange for a new AT when the old one expires.
- ID Token — profile card for the UI; not used by the API.

### Concrete, safe starting values

Use these as your baseline; tune after you observe real behavior.
| Token | Start with | Why |
| ---------------------------- | -------------------------------------------------------------------: | ------------------------------------------------------------------------------------------------- |
| **Access Token** | **15 min** (writers) · **30–60 min** (read-heavy) | Limits blast radius; RT covers renewals. |
| **Refresh Token (rotating)** | **Idle**: 30 days · **Absolute**: 180–365 days · **Overlap**: 10–30s | Good UX over weeks; rotation stops reuse; overlap prevents “false reuse” when two refreshes race. |
| **ID Token** | 5–60 min (default fine) | UI only; API doesn’t use it. |

## Quick decision tree

- Mostly reads? → AT 30–60m.
- Risky writes? → AT 10–20m.
- Users return after days? → RT Idle 30–45d, Absolute 180–365d.
- Seeing duplicate refreshes? → Add de-dupe and set Overlap 20–30s.
- Seeing frequent logins? → Ensure Refresh Token Rotation is enabled and AT isn’t too tiny.
